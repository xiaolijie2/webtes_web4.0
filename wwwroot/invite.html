<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>邀请</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .invite-card {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
        }
        .reward-card {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }
        .qr-container {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .loading {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .toast {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            z-index: 1000;
            display: none;
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen" style="display: flex; justify-content: center;">
    <div class="mobile-container">
    <!-- Header -->
    <header class="gradient-bg text-white p-4 sticky top-0 z-50">
        <div class="flex items-center justify-between">
            <button onclick="goBack()" class="p-2 hover:bg-white/20 rounded-lg transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
            </button>
            <h1 class="text-lg font-semibold">邀请好友</h1>
            <div class="flex space-x-2">
                <button onclick="refreshData()" class="p-2 hover:bg-white/20 rounded-lg transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                    </svg>
                </button>
                <button onclick="showHelp()" class="p-2 hover:bg-white/20 rounded-lg transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="p-4 pb-20">
        <!-- 邀请统计卡片 -->
        <div class="invite-card rounded-xl p-6 mb-6 text-white">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-lg font-semibold">我的邀请</h2>
                <div class="bg-white/20 px-3 py-1 rounded-full text-sm">VIP特权</div>
            </div>
            <div class="grid grid-cols-3 gap-4">
                <div class="text-center">
                    <div class="text-2xl font-bold" id="totalInvites">0</div>
                    <div class="text-sm opacity-90">总邀请</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold" id="todayInvites">0</div>
                    <div class="text-sm opacity-90">今日邀请</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold" id="totalReward">$0</div>
                    <div class="text-sm opacity-90">总奖励</div>
                </div>
            </div>
        </div>

        <!-- 邀请链接 -->
        <div class="bg-white rounded-xl p-6 mb-6 card-shadow">
            <h3 class="text-lg font-semibold mb-4 flex items-center">
                <span class="bg-blue-100 text-blue-600 p-2 rounded-lg mr-3">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>
                    </svg>
                </span>
                我的邀请链接
            </h3>
            <div class="bg-gray-50 rounded-lg p-4 mb-4">
                <div class="text-sm text-gray-600 mb-2">邀请链接</div>
                <div class="flex items-center space-x-2">
                    <input type="text" id="inviteLink" class="flex-1 bg-white border border-gray-200 rounded-lg px-3 py-2 text-sm" readonly>
                    <button onclick="copyLink()" class="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-600 transition-colors">
                        复制
                    </button>
                </div>
            </div>
            <div class="flex space-x-3">
                <button onclick="shareToWechat()" class="flex-1 bg-green-500 text-white py-3 rounded-lg font-medium hover:bg-green-600 transition-colors">
                    微信分享
                </button>
                <button onclick="shareToQQ()" class="flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors">
                    QQ分享
                </button>
            </div>
        </div>

        <!-- 二维码 -->
        <div class="bg-white rounded-xl p-6 mb-6 card-shadow">
            <h3 class="text-lg font-semibold mb-4 flex items-center">
                <span class="bg-purple-100 text-purple-600 p-2 rounded-lg mr-3">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path>
                    </svg>
                </span>
                邀请二维码
            </h3>
            <div class="flex justify-center mb-4">
                <div class="qr-container">
                    <div id="qrcode" class="w-48 h-48 flex items-center justify-center">
                        <div class="text-gray-400">生成中...</div>
                    </div>
                </div>
            </div>
            <div class="text-center">
                <button onclick="downloadQR()" class="bg-purple-500 text-white px-6 py-2 rounded-lg hover:bg-purple-600 transition-colors">
                    下载二维码
                </button>
            </div>
        </div>

        <!-- 邀请奖励规则 -->
        <div class="reward-card rounded-xl p-6 mb-6 text-gray-800">
            <h3 class="text-lg font-semibold mb-4 flex items-center">
                <span class="bg-yellow-100 text-yellow-600 p-2 rounded-lg mr-3">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                    </svg>
                </span>
                奖励规则
            </h3>
            <div class="space-y-3">
                <div class="flex items-center justify-between bg-white/50 rounded-lg p-3">
                    <span>邀请注册奖励</span>
                    <span class="font-semibold text-green-600">$10</span>
                </div>
                <div class="flex items-center justify-between bg-white/50 rounded-lg p-3">
                    <span>首次充值奖励</span>
                    <span class="font-semibold text-green-600">5%</span>
                </div>
                <div class="flex items-center justify-between bg-white/50 rounded-lg p-3">
                    <span>任务佣金分成</span>
                    <span class="font-semibold text-green-600">2%</span>
                </div>
            </div>
        </div>

        <!-- 邀请记录 -->
        <div class="bg-white rounded-xl p-6 card-shadow">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold">邀请记录</h3>
                <button onclick="viewAllInvites()" class="text-blue-500 text-sm hover:text-blue-600">
                    查看全部
                </button>
            </div>
            
            <!-- 加载状态 -->
            <div id="inviteLoading" class="text-center py-8">
                <div class="loading w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"></div>
                <div class="text-gray-500 text-sm">加载中...</div>
            </div>
            
            <!-- 邀请列表 -->
            <div id="inviteList" class="space-y-3 hidden">
                <!-- 邀请记录项将通过JavaScript动态生成 -->
            </div>
            
            <!-- 空状态 -->
            <div id="inviteEmpty" class="text-center py-8 hidden">
                <div class="text-gray-400 mb-2">
                    <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                    </svg>
                </div>
                <div class="text-gray-500">暂无邀请记录</div>
                <div class="text-gray-400 text-sm mt-1">快去邀请好友赚取奖励吧！</div>
            </div>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2">
        <div class="flex justify-around">
            <a href="home.html" class="flex flex-col items-center py-2 text-gray-600 hover:text-blue-500">
                <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                </svg>
                <span class="text-xs">首页</span>
            </a>
            <a href="start.html" class="flex flex-col items-center py-2 text-gray-600 hover:text-blue-500">
                <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h1m4 0h1m6-10V7a3 3 0 00-3-3H6a3 3 0 00-3 3v1M5 10h14l-1 8H6l-1-8z"></path>
                </svg>
                <span class="text-xs">开始</span>
            </a>
            <a href="orders.html" class="flex flex-col items-center py-2 text-gray-600 hover:text-blue-500">
                <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
                <span class="text-xs">订单</span>
            </a>
            <a href="invite.html" class="flex flex-col items-center py-2 text-blue-500">
                <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                </svg>
                <span class="text-xs">邀请</span>
            </a>
            <a href="account.html" class="flex flex-col items-center py-2 text-gray-600 hover:text-blue-500">
                <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                </svg>
                <span class="text-xs">我的</span>
            </a>
        </div>
    </nav>

    <!-- Toast Message -->
    <div id="toast" class="toast"></div>

    <script>
        // 全局变量
        const currentUser = 'user123';
        let inviteData = null;
        let qrCodeGenerated = false;

        // 动态加载网站名称
        function loadSiteName() {
            // 尝试从API获取网站名称
            fetch('/api/admin/site-settings')
                .then(response => response.json())
                .then(data => {
                    if (data && data.siteName) {
                        document.title = data.siteName + '-邀请';
                        localStorage.setItem('siteName', data.siteName);
                    } else {
                        // 从localStorage获取
                        const siteName = localStorage.getItem('siteName');
                        if (siteName) {
                            document.title = siteName + '-邀请';
                        }
                    }
                })
                .catch(error => {
                    // 从localStorage获取
                    const siteName = localStorage.getItem('siteName');
                    if (siteName) {
                        document.title = siteName + '-邀请';
                    }
                });
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            loadSiteName();
            loadInviteData();
            generateInviteLink();
            
            // 监听页面可见性变化，自动刷新数据
            document.addEventListener('visibilitychange', function() {
                if (!document.hidden) {
                    refreshData();
                }
            });
        });

        // 加载邀请数据
        async function loadInviteData() {
            try {
                // 加载邀请统计
                const statsResponse = await fetch(`/api/invite/stats/${currentUser}`);
                if (statsResponse.ok) {
                    const stats = await statsResponse.json();
                    updateInviteStats(stats);
                } else {
                    // 使用模拟数据
                    updateInviteStats({
                        totalInvites: 15,
                        todayInvites: 3,
                        totalReward: 285.50,
                        monthlyInvites: 8,
                        activeInvites: 12
                    });
                }

                // 加载邀请记录
                const recordsResponse = await fetch(`/api/invite/records/${currentUser}?limit=5`);
                if (recordsResponse.ok) {
                    const data = await recordsResponse.json();
                    renderInviteRecords(data.records);
                } else {
                    // 使用模拟数据
                    renderInviteRecords([
                        {
                            inviteId: 'INV001',
                            inviteePhone: '138****8001',
                            status: 'registered',
                            reward: 10.00,
                            createTime: new Date().toISOString()
                        },
                        {
                            inviteId: 'INV002',
                            inviteePhone: '139****8002',
                            status: 'active',
                            reward: 25.50,
                            createTime: new Date(Date.now() - 86400000).toISOString()
                        },
                        {
                            inviteId: 'INV003',
                            inviteePhone: '136****8003',
                            status: 'registered',
                            reward: 10.00,
                            createTime: new Date(Date.now() - 172800000).toISOString()
                        }
                    ]);
                }
            } catch (error) {
                console.error('加载邀请数据失败:', error);
                showToast('加载数据失败，请稍后重试');
            }
        }

        // 更新邀请统计
        function updateInviteStats(stats) {
            document.getElementById('totalInvites').textContent = stats.totalInvites || 0;
            document.getElementById('todayInvites').textContent = stats.todayInvites || 0;
            document.getElementById('totalReward').textContent = `$${(stats.totalReward || 0).toFixed(2)}`;
        }

        // 渲染邀请记录
        function renderInviteRecords(records) {
            const loadingEl = document.getElementById('inviteLoading');
            const listEl = document.getElementById('inviteList');
            const emptyEl = document.getElementById('inviteEmpty');

            loadingEl.classList.add('hidden');

            if (!records || records.length === 0) {
                emptyEl.classList.remove('hidden');
                listEl.classList.add('hidden');
                return;
            }

            emptyEl.classList.add('hidden');
            listEl.classList.remove('hidden');

            listEl.innerHTML = records.map(record => `
                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
                            <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                        </div>
                        <div>
                            <div class="font-medium">${record.inviteePhone}</div>
                            <div class="text-sm text-gray-500">${formatDateTime(record.createTime)}</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="font-semibold text-green-600">+$${record.reward.toFixed(2)}</div>
                        <div class="text-sm ${getStatusColor(record.status)}">${getStatusText(record.status)}</div>
                    </div>
                </div>
            `).join('');
        }

        // 生成邀请链接
        function generateInviteLink() {
            const baseUrl = window.location.origin;
            const inviteCode = btoa(currentUser).replace(/[^a-zA-Z0-9]/g, '').substring(0, 8);
            const inviteLink = `${baseUrl}/register.html?invite=${inviteCode}`;
            
            document.getElementById('inviteLink').value = inviteLink;
            
            // 生成二维码
            if (!qrCodeGenerated) {
                generateQRCode(inviteLink);
                qrCodeGenerated = true;
            }
        }

        // 生成二维码
        function generateQRCode(text) {
            const qrContainer = document.getElementById('qrcode');
            
            // 这里使用简单的二维码生成方案
            // 实际项目中可以使用 qrcode.js 或其他二维码库
            const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(text)}`;
            
            qrContainer.innerHTML = `
                <img src="${qrUrl}" alt="邀请二维码" class="w-48 h-48 rounded-lg" 
                     onerror="this.parentElement.innerHTML='<div class=\"text-gray-400\">二维码生成失败</div>'">
            `;
        }

        // 复制邀请链接
        function copyLink() {
            const linkInput = document.getElementById('inviteLink');
            linkInput.select();
            linkInput.setSelectionRange(0, 99999);
            
            try {
                document.execCommand('copy');
                showToast('邀请链接已复制到剪贴板');
            } catch (err) {
                // 使用现代API
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(linkInput.value).then(() => {
                        showToast('邀请链接已复制到剪贴板');
                    }).catch(() => {
                        showToast('复制失败，请手动复制');
                    });
                } else {
                    showToast('复制失败，请手动复制');
                }
            }
        }

        // 分享到微信
        function shareToWechat() {
            const link = document.getElementById('inviteLink').value;
            const title = '邀请你加入任务平台，一起赚钱！';
            const desc = '注册即送$10，完成任务轻松赚钱，快来加入我们吧！';
            
            // 检查是否在微信环境
            if (navigator.userAgent.toLowerCase().includes('micromessenger')) {
                showToast('请点击右上角分享按钮分享给好友');
            } else {
                // 非微信环境，复制链接
                copyLink();
                showToast('链接已复制，请在微信中分享给好友');
            }
        }

        // 分享到QQ
        function shareToQQ() {
            const link = document.getElementById('inviteLink').value;
            const title = '邀请你加入任务平台';
            const desc = '注册即送$10，完成任务轻松赚钱！';
            
            // QQ分享链接
            const qqShareUrl = `mqqapi://share/to_fri?file_type=news&src_type=web&version=1&generalpastboard=1&file_data=${encodeURIComponent(JSON.stringify({
                app: '任务平台',
                desc: desc,
                title: title,
                url: link
            }))}`;
            
            // 尝试打开QQ分享
            const a = document.createElement('a');
            a.href = qqShareUrl;
            a.click();
            
            // 备用方案：复制链接
            setTimeout(() => {
                copyLink();
                showToast('如果QQ未打开，链接已复制到剪贴板');
            }, 1000);
        }

        // 下载二维码
        function downloadQR() {
            const qrImg = document.querySelector('#qrcode img');
            if (qrImg) {
                const link = document.createElement('a');
                link.href = qrImg.src;
                link.download = '邀请二维码.png';
                link.click();
                showToast('二维码下载成功');
            } else {
                showToast('二维码生成中，请稍后重试');
            }
        }

        // 查看全部邀请记录
        function viewAllInvites() {
            // 这里可以跳转到详细的邀请记录页面
            showToast('功能开发中...');
        }

        // 刷新数据
        function refreshData() {
            loadInviteData();
            showToast('数据已刷新');
        }

        // 返回上一页
        function goBack() {
            if (document.referrer) {
                history.back();
            } else {
                window.location.href = 'account.html';
            }
        }

        // 显示帮助
        function showHelp() {
            const helpText = `邀请规则说明：\n\n1. 邀请好友注册成功，您可获得$10奖励\n2. 好友首次充值，您可获得5%奖励\n3. 好友完成任务，您可获得2%佣金分成\n4. 奖励将在好友完成相应操作后24小时内到账\n5. 邀请奖励无上限，邀请越多赚得越多`;
            alert(helpText);
        }

        // 显示提示消息
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.display = 'block';
            toast.classList.add('fade-in');
            
            setTimeout(() => {
                toast.style.display = 'none';
                toast.classList.remove('fade-in');
            }, 2000);
        }

        // 工具函数
        function formatDateTime(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diff = now - date;
            
            if (diff < 60000) {
                return '刚刚';
            } else if (diff < 3600000) {
                return `${Math.floor(diff / 60000)}分钟前`;
            } else if (diff < 86400000) {
                return `${Math.floor(diff / 3600000)}小时前`;
            } else {
                return date.toLocaleDateString('zh-CN', {
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
            }
        }

        function getStatusText(status) {
            const statusMap = {
                'registered': '已注册',
                'active': '已激活',
                'recharged': '已充值',
                'inactive': '未激活'
            };
            return statusMap[status] || status;
        }

        function getStatusColor(status) {
            const colorMap = {
                'registered': 'text-blue-600',
                'active': 'text-green-600',
                'recharged': 'text-purple-600',
                'inactive': 'text-gray-500'
            };
            return colorMap[status] || 'text-gray-500';
        }
    </script>
    </div>
</body>
</html>